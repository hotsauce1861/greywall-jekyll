---
layout: post
tags: [STM32]
comments: true
---
## 什么是正交解码？
对于增量式编码器，码盘上会很多栅格，中间镂空，并且光电对管会产生一个方波，通常的说法是1000线的编码器，即转一圈会产生1000个方波脉冲，马盘上刻了1000个栅格，中间被镂了1000个空，举个例子，未免显得有点啰嗦，下面直奔主题,至于什么是编码器还是搜索引擎说的明明白白。
增量编码器通常有A,B两相信号，相位相差90°，所以也叫正交，抽象一点的如下所示：
  ____    _____    _____
     |____|   |____|   |____
   _____    _____
___|   |____|   |____

还有一个复位信号是机械复位，即转了一圈，复位信号会有一个跳变沿。
所以，正交解码，就是把解码`A`,`B`两相的方波信号，检测相位，以及脉冲数和转向，当然也可以计算出转速，加速度，以及转动到相应的位置。

